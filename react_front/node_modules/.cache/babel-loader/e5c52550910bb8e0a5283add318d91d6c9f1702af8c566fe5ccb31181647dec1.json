{"ast":null,"code":"import React,{useEffect,useState,useContext}from\"react\";import axios from\"axios\";import Markdown from\"mui-markdown\";import{Box,Typography,useTheme}from\"@mui/material\";import{SettingsContext}from\"../context/SettingsContext\";import{jsx as _jsx}from\"react/jsx-runtime\";const MarkdownViewer=_ref=>{let{filePath}=_ref;const[markdownContent,setMarkdownContent]=useState(\"\");const{themeMode}=useContext(SettingsContext);// 获取主题模式\nconst theme=useTheme();// Material-UI 主题\nuseEffect(()=>{const loadMarkdown=async()=>{try{const response=await axios.get(filePath);setMarkdownContent(response.data);}catch(error){setMarkdownContent(\"无法加载指定的 Markdown 文件。\");console.error(error);}};if(filePath){loadMarkdown();}},[filePath]);return/*#__PURE__*/_jsx(Box,{sx:{p:3,margin:\"0 auto\"},children:/*#__PURE__*/_jsx(Box,{sx:{borderRadius:\"8px\",p:2//   border: `1px solid ${\n//     themeMode === \"light\"\n//       ? theme.palette.grey[300] // 浅色模式下，边框颜色浅灰色\n//       : theme.palette.grey[800] // 深色模式下，边框颜色稍深灰色\n//   }`,\n//   backgroundColor: themeMode === \"light\" ? theme.palette.grey[50] : theme.palette.grey[900], // 背景颜色\n},children:markdownContent?/*#__PURE__*/_jsx(Markdown,{overrides:{h1:{component:Typography,props:{variant:\"h5\",gutterBottom:true,sx:{fontWeight:600}}},h2:{component:Typography,props:{variant:\"h6\",gutterBottom:true,sx:{fontWeight:600}}},h3:{component:Typography,props:{variant:\"subtitle1\",gutterBottom:true,sx:{fontWeight:600}}},p:{component:Typography,props:{variant:\"body\",gutterBottom:true,sx:{fontSize:\"0.9rem\"}}},li:{component:Typography,props:{component:\"li\",variant:\"body\",gutterBottom:true,sx:{fontSize:\"0.9rem\"}}}},children:markdownContent}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"\\u6B63\\u5728\\u52A0\\u8F7D\\u5185\\u5BB9...\"})})});};export default MarkdownViewer;","map":{"version":3,"names":["React","useEffect","useState","useContext","axios","Markdown","Box","Typography","useTheme","SettingsContext","jsx","_jsx","MarkdownViewer","_ref","filePath","markdownContent","setMarkdownContent","themeMode","theme","loadMarkdown","response","get","data","error","console","sx","p","margin","children","borderRadius","overrides","h1","component","props","variant","gutterBottom","fontWeight","h2","h3","fontSize","li","color"],"sources":["/Users/stev/Desktop/Personal-Website/react_front/src/components/MarkdownViewer.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport Markdown from \"mui-markdown\";\nimport { Box, Typography, useTheme } from \"@mui/material\";\nimport { SettingsContext } from \"../context/SettingsContext\";\n\nconst MarkdownViewer = ({ filePath }) => {\n  const [markdownContent, setMarkdownContent] = useState(\"\");\n  const { themeMode } = useContext(SettingsContext); // 获取主题模式\n  const theme = useTheme(); // Material-UI 主题\n\n  useEffect(() => {\n    const loadMarkdown = async () => {\n      try {\n        const response = await axios.get(filePath);\n        setMarkdownContent(response.data);\n      } catch (error) {\n        setMarkdownContent(\"无法加载指定的 Markdown 文件。\");\n        console.error(error);\n      }\n    };\n\n    if (filePath) {\n      loadMarkdown();\n    }\n  }, [filePath]);\n\n  return (\n    <Box sx={{ p: 3, margin: \"0 auto\" }}>\n      <Box\n        sx={{\n          borderRadius: \"8px\",\n          p: 2,\n        //   border: `1px solid ${\n        //     themeMode === \"light\"\n        //       ? theme.palette.grey[300] // 浅色模式下，边框颜色浅灰色\n        //       : theme.palette.grey[800] // 深色模式下，边框颜色稍深灰色\n        //   }`,\n        //   backgroundColor: themeMode === \"light\" ? theme.palette.grey[50] : theme.palette.grey[900], // 背景颜色\n        }}\n      >\n        {markdownContent ? (\n          <Markdown\n            overrides={{\n              h1: {\n                component: Typography,\n                props: { variant: \"h5\", gutterBottom: true, sx: { fontWeight: 600 } },\n              },\n              h2: {\n                component: Typography,\n                props: { variant: \"h6\", gutterBottom: true, sx: { fontWeight: 600 } },\n              },\n              h3: {\n                component: Typography,\n                props: { variant: \"subtitle1\", gutterBottom: true, sx: { fontWeight: 600 } },\n              },\n              p: {\n                component: Typography,\n                props: { variant: \"body\", gutterBottom: true, sx: { fontSize: \"0.9rem\" } },\n              },\n              li: {\n                component: Typography,\n                props: { component: \"li\", variant: \"body\", gutterBottom: true, sx: { fontSize: \"0.9rem\" } },\n              },\n            }}\n          >\n            {markdownContent}\n          </Markdown>\n        ) : (\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            正在加载内容...\n          </Typography>\n        )}\n      </Box>\n    </Box>\n  );\n};\n\nexport default MarkdownViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}